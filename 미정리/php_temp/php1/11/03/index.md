---
layout: default
title: PHP BOOK
subtitle: numphp

tree: /php
---

## 11.3 파일 경로

전처리기 명령 include 및 require은 삽입하고자 하는 파일의 위치가 매우중요합니다. PHP의 include와 require명령은 현재 실행되고 있는 PHP 스크립트의 경로를 기준으로결합하고자 하는 소스파일의 위치를 찾습니다.  

만일 실행하고 있는 스크립트와 동일한 폴더경로에 있는 다른 소스를 사용할 때는 그냥 이름만 넣어도 됩니다. 하지만 다른 폴더나 하위 폴더에 있는경우에는 상대 경로 또는 절대 경로 형태로 바르게 입력해야 합니다.  

/text.php  

/lib.php  

위처럼 1개의실행 스크립트 소스파일이 같은 폴더 안에 있습니다. text.php 소스파일은 include(lib.php); 형태로 다른 소스 파일의 경로를 설정하면 됩니다.  

/dir1/text.php  

/lib.php  

위처럼 실행하는 스크립트가 서브 폴더 안에있습니다. text.php가 실행되면 기본 경로는 /dir1이됩니다. 따라서 include(../lib.php);처럼이동한 상위 폴더 경로로 설정해야 합니다.  

이처럼 실행 스크립트의 위치에 따라서 경로는달라집니다. 만일 결합하고자 하는 소스의 파일 경로가 잘못된 경우 오류 메시지를 출력하거나 스크립트실행이 중단될 수도 있습니다.  

### 11.3.1 상대 경로

상대 경로란 현재 디렉터리를 기준으로 파일의위치를 판별합니다.

자신의 하위 디렉터리에 있는 경우에는 현재디렉터리(./)를 기준으로 작성하면 됩니다.

./ 파일명                   → 현재 디렉터리의 파일명

./폴더1/파일명           → 현재 디렉터리의 하부폴더1 의 파일

상위 폴더를 선택할 때는 ../를 사용하면 됩니다.

../파일명                   → 현재 디렉터리 상위 폴더의 파일명

../../파일명                → 현재 디렉터리의 상위/상위 폴더의 파일명

../상위 폴더명/하부 폴더명/파일명 → 현재 디렉터리의 상위 폴더로 이동한 다음, 상위 폴더명의하부 폴더명 안에 있는 파일명

### 11.3.2 절대 경로

절대 경로란 컴퓨터 하드디스크의 첫 루트부터의전체 경로를 의미합니다.

윈도우의 경우,

c:\web\webdoc\test.php

와 같이 드라이브명부터 시작합니다.

리눅스의 경우,
\home\web\webdoc\test.php
와 같이 루트(\)부터 시작합니다.

절대 경로의 장점은 파일의 위치 오류를 방지할수 있습니다. 하지만, 파일 위치가 변경될 때마다 프로그램소스상에서 모두 바꿔야 하는 불편함이 있습니다. 또한 절대 경로를 사용하면 경로의 이름이 매우 긴 불편함이있습니다.

### 11.3.3 __DIR__**

PHP 는 현재 자신의 스크립트가 실행되는 경로를 출력해주는 특별한 상수명이 있습니다.

__DIR__ 은 현재 실행되는 스크립트의 경로를 출력합니다. __DIR__ 은 현재 실행되고 있는 스크립트의 서브 디렉터리 경로명까지 포함하여 출력합니다.

예제 파일 path-01.php

결과
C:\php-7.1.4-Win32-VC14-x86\jinyphp

위의 예에서 __DIR__은 현재 실행하고 있는 스크립트의 유효한 파일 경로를 출력합니다.__DIR__ 상수를 통해 상태 경로를 계산하여 사용하면 유연하게 경로 계산을 할 수 있습니다.

### 11.3.4 DocumentRoot

PHP는 슈퍼 글로벌 서버 변수를 통해 현재PHP가 실행되는 절대 상위 폴더를 출력합니다.

이전 __DIR__ 는 실행되는 서브 폴더까지 표시가 되지만,`_SERVER['DOCUMENT_ROOT']`는 실행 폴더의 root만 표시됩니다.

예제파일 path-02.php

결과
C:\php-7.1.4-Win32-VC14-x86

위의 예는 root 경로를출력합니다. PHP의 내부 서버 실행의 문서 루트 경로, 아차피웹서버의문서루트경로를출력합니다.

### 11.3.5 __FILE__
__FILE__ 함수는 현재 실행하고 있는 스크립트의 소스 파일 정보를 출력합니다.

예제 파일 path-03.php

결과

C:\php-7.1.4-Win32-VC14-x86\jinyphp\path-03.php

C:\php-7.1.4-Win32-VC14-x86\jinyphp\path-03.php

path-03.php

위의 예는 현재 실행하고 있는 스크립트의 소스 파일 정보를 알아낼 수 있습니다. 또한realpath() 함수를 통해 절대 경로로 변경할 수 있습니다. 만일경로를제외한현재의실행스크립트파일명만알고싶다면basename() 함수를 이용할 수도 있습니다. 

### 11.3.6 dirname

dirname() 함수는 입력된 파일 경로에서 디렉터리 부분만 추출할 수 있습니다. 

PHP 7.x부터는 입력된 path에서 디렉터리경로를 추출할 때 경[로]()[[jn1\]](#_msocom_1)  레벨을 선택해서 가지고 올 수도 있습니다.

예제 파일 dirname.php

결과
/dir1/dir2/dir3
/dir1/dir2
/dir1

위의 예는 입력한 $path 경로를슬래시(/) 기호로 구분하여 각각 접근할 수 있습니다.****
