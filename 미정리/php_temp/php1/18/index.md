---
layout: default
title: PHP BOOK
subtitle: numphp

tree: /php
---

## 18.콘솔
<hr>
PHP는 웹 브라우저를 통해 실행뿐만 아니라 콘솔에서 직접 명령으로 PHP를 실행할 수 있습니다. 

콘솔 명령을 다른 말로는 CLI(commandLine Interface)라고도 합니다. PHP CLI기능은PHP 4.3.x 버전 이후부터 적용된 기능입니다. PHP CLI는 SAPI(Server Application Programming Interface) 형식을지원합니다.
<br>
<br>

### 18.1 콘솔이란?
<hr>
컴퓨터와 사용자 사이에 대화를 할 수 있는커맨드 기반의 입출력 장치를 말합니다. 옛날 DOS 나 리눅스의 bash shell, 윈도우 CMD 창 등이 콜솔 명령 작업을 할 수 있는 환경입니다.  

콘솔을 이용하면 명령을 통해 컴퓨터에게 직접작업을 실행하거나 결과를 얻을 수 있습니다.

### 8.2 콘솔 옵션

콘솔 창에서php -help 명령을 입력하면 php 콘솔 실행과 관련된 여러 명령 옵션을 확인할 수있습니다.

명령
```
#] php -help
```

PHP 버전 확인 -v  
-v 옵션은 버전을 확인할 수 있는 콘솔 명령 옵션입니다.

 

|명령|

\#] php -v****

 

**PHP ****정보 확인 -i**

 

-i 옵션은 PHP의 환경 설정 정보를확인할 수 있습니다. 웹에서 phpinfo() 함수를 실행하는것과 동일합니다.

 

|명령|

\#] php -i****

 

**PHP ****강조 표시 -s**

 

-s 옵션은 PHP 소스의문법을강조하여HTML 파일 형태로 출력합니다.

 

**예제 ****파일** index.php

 

 

**변환된 HTML****파일:**

 

 

 

**PHP ****명령행 실행 -w**

-w 옵션은 소스의 주석과 공백을 제거한 소스를 다시 출력합니다.

 

 

 

**PHP ****명령행 실행 -r**

-r 옵션은 php 콘솔상에서PHP의 명령어를 직접 입력하여 실행할 수 있습니다.

 

 

위의 콘솔 예제처럼 스크립트 파일을 작성하지 않고도 직접 간단한 명령을 php 입력으로실행할수있습니다.

 

**PHP ****대화식 실행 -a**

-a 옵션은 PHP 콘솔에서대화식으로PHP 명령을 실행하고 결과를 확인할 수 있습니다.

 

 

대화식을 종료할 때는 exit 를명령하면됩니다.

 

**PHP ****문법 검사 -l**

-l 옵션은 PHP의문법적오류를체크합니다. 오류가 없는 경우에는 Nosyntax errors를 출력합니다.

 

 

**PHP ****모듈 출력 -m**

-m 옵션은 PHP의내장된PHP모듈과 Zend 모듈을출력합니다.

 

 

 

**18.3 ****콘솔 실행******

PHP스크립트는 웹 브라우저를 통해 실행도 가능하나 콘솔로 실행할 수 도 있습니다. PHP 스크립트를 콘솔로 실행을 할 수 있다는 것은 몇 가지 장점이 있습니다.

 

|명령|

**#] php ****실행 파일명.php**

 

php 명령과 php 파일명을 콘솔상에적으면 PHP는 콘솔상 php 스크립트를 실행하여 콘솔 화면에출력합니다.

 

**예제**

 

PHP의 콘솔 실행 가능 여부는 PHP를웹 페이지 제작 이 외에도 시스템의 처리 등을 위한 스크립트로도 사용이 가능하다는 것입니다.

 

윈도우의 스케줄러, 리눅스의 crontab에 넣어서 정기적으로 php 스크립트를 실행할 수 있습니다.

** **

**18.4 ****실행 인자**

PHP 소스를 실행할 때 외부에서 입력하는 데이터 값을 입력 받아 처리를 할 수있습니다.

웹기반에서는URL 의 GET 이나 폼의 POST 값을 통하여PHP 소스에 데이터를 전달할 수 있었습니다.

 

콘솔에서PHP 스크립트 실행과 더불어 인자도 같이 전달 가능합니다. 이것을 외부 실행 인자라고이야기합니다.

 

**예제 파일 **consol-01.php

 

위와 같은 예제가 있습니다. 예제는외부에서입력된배열변수의값$argv 를 출력하는 것입니다.

 

다음과 같이 콘솔상에서 php 스크립트실행과외부입력값을전달할수있습니다.

 

|명령|

**#] phpconsol-01.php ****arg1 arg2 arg3**

 

**결과)**

array(4) {

  [0]=>

  string(23)"./jinyphp/consol-01.php"

  [1]=>

  string(4)"arg1"

  [2]=>

  string(4)"arg2"

  [3]=>

  string(4)"agr3"

}

 

$argv 배열 변수는 콘솔을 통하여 스크립트를 실행할 때 외부에서 입력된 값을 배열 형태로 참조할 수 있는 특별한 변수입니다.

 

첫 번째 값으로는 실행하는 스크립트 파일의 경로를 가지고 있습니다.

 

두 번째부터는 인자값으로 전달 되는 값들이 순차적으로 저장되고 참조가 가능합니다.

 

18.5 백그라운드 실행

PHP 스크립트는 리눅스와 같은 시스템에서 백그라운드로 실행시킬수있습니다. 리눅스의 명령어 & 는명령동작을백드라운드로실행합니다.

 

\#] php test.php**&******

 

 