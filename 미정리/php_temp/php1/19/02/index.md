---
layout: default
title: PHP BOOK
subtitle: numphp

tree: /php
---

# 19.2 템플릿 작업

 

PHP와 HTML이 혼용되어 있는 코드가있는 반면 순수한 PHP 코드도 있습니다.

 

예전에는HTML 페이지 안에 PHP코드를 삽입하여 개발하는 형태로 작업을 많이 했습니다. 하지만 HTML 안에 PHP 코드가들어 있으면 가독성이 떨어지고 유지보수도 힘듭니다. 또한 디자이너와 협업하여 개발하기에도 어려운 부분이있었습니다.

 

요즘 트렌드는 MVC 패턴이라고 해서 화면에 보이는 view 영역 (HTML)과 데이터와 연산을 처리하는 M/C(PHP)를 분리하여작업하는 것을 선호합니다.

 

PHP와 HTML을 분리하여 가장 간단하게웹 페이지를 표현하는 방법은 HTML을 템플릿화하여 처리하는 것입니다.화면에 보이는 부분을 HTML 파일로 저장해 놓고,PHP에서 파일로 읽어 화면에 출력하는 것입니다.

 

 

 

**예제 파일 **web-02.php

 

 

**예제 파일 **temp.htm

 

**화면 출력)**

  

 

위의 예는 간단한 html 뷰와코드를분리한예제입니다. 외부에 별도로 생성한 view용html 파일을 읽어서 화면에 출력합니다. 이러한방식을통해php 코드와 html 을분리하여관리합니다.

 

**19.3 ****코드 치환******

 

템플릿을 이용하여 HTML 파일 그대로 내용을 다시 재출력하는 것입니다. 

 

하지만 이러한 방식의 문제는 동적인 데이터를가지고 있는 HTML경우에는 데이터 처리가 어렵다는 것입니다. 그래서이전에는 html 코드 안에 <?php ~ ?>를삽입하여 코드를 처리했습니다.

 

템플릿에서 동적으로 처리하고자 하는 내용이있다고 하면 **치환 키워드**를 만들어 사용합니다. 기존 html 파일에 특정한 키워드를 만들어 놓고, PHP에서 화면을 출력하기 전에 치환 키워드를 동적 데이터로 변경하는 방식입니다.

 

**예제 파일 **web-03.php

 

**예제 파일 **temp-02.htm

 

**화면 출력**

 

** **

위의 예제를 보면 템플릿 파일을 읽어서 변수에저장합니다. 변수는 html 본문 코드를 담고 있습니다.

 

문자열을 치환하는 내부 함수를 통해 치환 키워드를찾아서 데이터로 변경한 후 화면에 출력합니다.

 

str_replace()함수는 문자열의 일치되는 내용을 찾아서 다른 문자로바꿔주는 함수입니다.

 

 

가변적으로 처리해야 하는 내용은 템플릿에서치환 문자로 넣어둡니다. PHP는 템플릿 파일을 읽은 후에 치환 문자를 실제적인 데이터로 변경 후 화면에출력하면 가변적인 화면을 구현할 수 있습니다.

 

 

