---
layout: default
title: PHP BOOK
subtitle: numphp

tree: /php
---

# 14.5 인스턴스 생성

인스턴스란 말은 앞에서 선언한클래스를 통해 객체변수를 생성하는 것을 말합니다. 

 

함수는 정의 후에 바로 호출하여사용할 수 있었습니다. 하지만 객체 클래스는 선언을 했다고 해서 바로 함수처럼 호출하여 사용할 수 있는것은 아닙니다. 사용하기 전에 인스턴스화 작업을 통해 클래스 객체를 생성을 한 번 더 해줘야 합니다. 인스턴스화는 클래스 선언된 정보를 통해 객체변수를 생성 합니다.

 

​                              

 

 

인스턴스화를 통하여 객체를 생성하면클래스에 정의된 프로퍼티와 메서드를 함께 생성하여 새로운 객체를 생성 합니다. 정확히 말하면 객체를생성하여 지정된 변수에 할당(대입)하는 것입니다. 객체변수를 통해 프로퍼티와 메서드에 접근하게 됩니다.

 

 

 

**14.4.1 new ****키워드******

정의한 클래스를 객체 인스턴스형태로 생성하는 방법은 매우 간단합니다. 단지 정의한 클래스명 앞에 **new** 키워드를 통해 변수에 대입하면 됩니다.

 

**문법)**

 

**new **키워드로 대입한 변수는 **객체 데이터 타입**으로 생성됩니다.

 

**예제 파일 **class-02.php

 

**결과**

JinyClass인스턴스

JinyClass

클래스 인스턴스1

1

클래스 인스턴스2

2

 

위의 예제는 클래스 객체를 생성하는예제입니다. 예제 소스를 살펴보면 아래와 같이 클래스를 인스턴스화하여 객체를 생성할 때 어떤 예는 변수명과클래스명이 같은 경우를 종종 볼 수 있습니다. 

 

$JinyClass = new JinyClass();

 

인스턴스 객체변수로 클래스명과같은 이름을 사용할 수도 있습니다. 하지만 변수명과 클래스 이름은 서로 다른 의미 입니다. 객체변수는 변수이고, 클래스명은클래스이름이라는것입니다. 서로 같지 않습니다. 이름만같을뿐서로 영향을 주지 않습니다. 이름이같다고 해도 왼쪽은 객체변수이고 오른쪽은 그냥 클래스명입니다.

 

선언된 클래스는 new 키워드를 통해 객체를 생성하면 객체는 클래스의 선언된 타입과 같습니다.

 

$obj1 = new JinyClass;

$obj2 = new JinyClass;

 

위의 예처럼 한 개의 클래스를통해 동일한 객체 내용을 가지고 있는 데이터 타입 변수 두 개를 생성할 수 있습니다. $obj1과 $obj2는 서로 다른 객체변수입니다. 하지만 동일한 클래스의 구조를가지고 있습니다.

 

**함수 VS 클래스**

함수는 선언과 호출 2단계 작업을 한 쌍으로 사용합니다. 반면에 클래스는 선언과 인스턴스생성, 호출 3단계의 작업을 한 쌍으로 사용합니다.

 

 

**14.4.2****객체 복사******

new 키워드는 새로운 객체를 생성합니다. new키워드는 초기화된 객체를 생성합니다. 만일 클래스 값의 초기화 같은 것이 필요하다면 그냥new 키워드를 이용하여 객체를 생성하면 됩니다.

 

하지만 지금 사용 중인 객체를복제하여 사용하려고 하면 **clone 키워드**를사용해야 합니다. 

 

|문법|

$obj2 = clone $obj;

 

 

 

clone키워드는 현재의 객체의 상태를 포함하여 객체를 복사합니다.

 

**예제 파일 **class-03.php

 

**결과**

testing clone

testing clone

 

위의 예는 객체 복사에 대한실험입니다. 첫 번째 객체 $obj는 처음에 생성된 객체변수입니다. 생성된 객체에 메시지 내용을 설정한 다음에 화면 출력합니다.

 

$obj2는 $obj를 복사한 객체입니다. 현재 $obj객체의 설정값을 포함하여 새로운 객체변수에 복제가 됩니다. 복제된 $obj2를 통해 메시지를 출력하면 복제하기 전의 $obj 의 프로퍼티 값이 출력되는 것을 볼 수 있습니다.

 

복제는 이전 객체에 어떠한 프로퍼티값이 설정이 되어 있다면 이 설정값까지 모두 복제를 합니다.

 

